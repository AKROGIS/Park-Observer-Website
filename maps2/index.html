<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Park Observer | Maps</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="../style.css">
  </head>

  <body>

    <header>
      <img alt="App Icon (moose in magnifying glass)" src="../images/app_icon_small.png">
      <h1>Park Observer 2.0</h1>
      <p>An offline spatial data collection app for iOS</p>
    </header>

    <nav>
      <ul>
        <li ><a href="../index.html">Home</a></li>
        <li><a href="../downloads2">Downloads</a></li>
        <li><a href="../protocols2">Protocols</a></li>
        <li class="active"><a href="../maps2">Maps</a></li>
        <li><a href="../help2">Help</a></li>
      </ul>
     </nav>

    <main>
      <article>
        <h2>Maps</h2>

        <p>Describe the Tile Packages available here.</p>

        <table class="table table-hover">
          <thead>
            <tr><th>Map</th><th>Details</th></tr>
          </thead>
          <tbody id="table-body" ></tbody>
        </table>

      </article>
    </main>

    <footer>
      <p>Brought to you by the <a href="mailto:akro_gis_helpdesk@nps.gov">Alaska GIS Team</a>.</p>
    </footer>

    <script>
      fetch('../maps/maplist.json')
        .then(response => response.json())
        .then(data => {
          var items = [];
          data.forEach(item => {
            let img = "<div><img class='thumb' src='" + item.thumbnail + "'><p class='caption'>" + item.name + "</p></div>";
            let size = Math.round(item.size / 1024.0 / 1024.0) + "MB";
            let details = '<dl class="dl-horizontal">'
            details = details + "<dt>Description</dt><dd>" + item.description + "</dd>";
            details = details + "<dt>Author</dt><dd>" + item.author + "</dd>";
            details = details + "<dt>Date</dt><dd>" + item.date + "</dd>";
            details = details + "<dt>Size</dt><dd>" + size + "</dd>";
            details = details + "</dl>";
            items.push('<tr><td><a href="' + item.url + '">' + img + '</a></td><td>' + details + '</td></tr>');
          });
          document.getElementById('table-body').innerHTML = items.join("\n")
        });
    </script>

  </body>
</html>